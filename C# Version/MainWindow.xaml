<Window x:Class="DropShelf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DropShelf v1.0.0"
        Width="360" MinWidth="360" MaxWidth="360"
        Height="600" MinHeight="300"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="CanResizeWithGrip"
        Topmost="True"
        AllowDrop="True">

    <Border Background="{StaticResource BgWindowBrush}"
            BorderBrush="{StaticResource BorderBrush2}"
            BorderThickness="1"
            CornerRadius="15"
            x:Name="MainBorder">

        <Grid Margin="10,12,10,12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>   <!-- 0: Header -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="Auto"/>   <!-- 2: Search -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="Auto"/>   <!-- 4: Filter/Sort -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="Auto"/>   <!-- 6: Tabs -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="Auto"/>   <!-- 8: Bulk controls -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="*"/>      <!-- 10: Scroll content -->
                <RowDefinition Height="6"/>
                <RowDefinition Height="Auto"/>   <!-- 12: Bottom actions -->
            </Grid.RowDefinitions>

            <!-- ── Header ────────────────────────────────────────────────── -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="DropShelf" FontSize="16" FontWeight="Bold"
                           Foreground="White" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="SettingsBtn" Content="⚙" Style="{StaticResource IconButton}"
                            Width="30" Height="30" ToolTip="Settings"
                            Click="SettingsBtn_Click" Margin="0,0,4,0"/>
                    <Button x:Name="MinimizeBtn" Content="−" Style="{StaticResource IconButton}"
                            Width="30" Height="30" ToolTip="Minimize to Tray"
                            Click="MinimizeBtn_Click" Margin="0,0,4,0"/>
                    <Button x:Name="CloseBtn" Content="×" Style="{StaticResource IconButton}"
                            Width="30" Height="30" ToolTip="Close"
                            Click="CloseBtn_Click"/>
                </StackPanel>
            </Grid>

            <!-- ── Search ────────────────────────────────────────────────── -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="6"/>
                    <ColumnDefinition Width="32"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="SearchBox" Grid.Column="0" Height="32"
                         Style="{StaticResource DarkTextBox}"
                         FontSize="12"
                         TextChanged="SearchBox_TextChanged"/>
                <Button Grid.Column="2" Content="×" Style="{StaticResource IconButton}"
                        Width="32" Height="32" FontSize="18" FontWeight="Bold"
                        Click="ClearSearch_Click" ToolTip="Clear search"/>
            </Grid>

            <!-- ── Filter / Sort ─────────────────────────────────────────── -->
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="4"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="6"/>
                    <ColumnDefinition Width="32"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Filter:" Foreground="{StaticResource TextBrush}"
                           VerticalAlignment="Center" FontSize="12"/>
                <ComboBox x:Name="FilterCombo" Grid.Column="2" Height="32"
                          Style="{StaticResource DarkComboBox}"
                          SelectedIndex="0"
                          SelectionChanged="FilterCombo_SelectionChanged">
                    <ComboBoxItem>All Types</ComboBoxItem>
                    <ComboBoxItem>Files</ComboBoxItem>
                    <ComboBoxItem>URLs</ComboBoxItem>
                    <ComboBoxItem>Text</ComboBoxItem>
                </ComboBox>

                <TextBlock Grid.Column="4" Text="Sort:" Foreground="{StaticResource TextBrush}"
                           VerticalAlignment="Center" FontSize="12"/>
                <ComboBox x:Name="SortCombo" Grid.Column="6" Height="32"
                          Style="{StaticResource DarkComboBox}"
                          SelectedIndex="0"
                          SelectionChanged="SortCombo_SelectionChanged">
                    <ComboBoxItem>Newest First</ComboBoxItem>
                    <ComboBoxItem>Oldest First</ComboBoxItem>
                    <ComboBoxItem>Name (A-Z)</ComboBoxItem>
                    <ComboBoxItem>Type</ComboBoxItem>
                    <ComboBoxItem>Size</ComboBoxItem>
                    <ComboBoxItem>Most Used</ComboBoxItem>
                </ComboBox>

                <Button x:Name="SortDirBtn" Grid.Column="8" Content="↓"
                        Width="32" Height="32"
                        Style="{StaticResource IconButton}" FontSize="16" FontWeight="Bold"
                        ToolTip="Toggle sort direction" Click="SortDirBtn_Click"/>
            </Grid>

            <!-- ── Tabs ───────────────────────────────────────────────────── -->
            <StackPanel Grid.Row="6" Orientation="Horizontal">
                <Button x:Name="TabAll"     Content="All Items" Style="{StaticResource TabButtonActive}"
                        Click="TabAll_Click" Margin="0,0,6,0"/>
                <Button x:Name="TabFav"     Content="Favorites" Style="{StaticResource TabButtonInactive}"
                        Click="TabFav_Click" Margin="0,0,6,0"/>
                <Button x:Name="TabHistory" Content="History"   Style="{StaticResource TabButtonInactive}"
                        Click="TabHistory_Click"/>
            </StackPanel>

            <!-- ── Bulk controls ─────────────────────────────────────────── -->
            <StackPanel Grid.Row="8" Orientation="Horizontal">
                <Button x:Name="SelectModeBtn"    Content="Select" Height="28" Padding="10,4"
                        Style="{StaticResource DarkButton}" FontSize="12"
                        Click="SelectModeBtn_Click"/>
                <Button x:Name="SelectAllBtn"     Content="All"    Height="28" Padding="8,4"
                        Style="{StaticResource DarkButton}" FontSize="12"
                        Margin="6,0,0,0" Visibility="Collapsed"
                        Click="SelectAllBtn_Click"/>
                <Button x:Name="DeleteSelectedBtn" Content="Delete" Height="28" Padding="8,4"
                        Style="{StaticResource DarkButton}" FontSize="12"
                        Margin="6,0,0,0" Visibility="Collapsed"
                        Click="DeleteSelectedBtn_Click"/>
                <Button x:Name="FavSelectedBtn"   Content="Favorite" Height="28" Padding="8,4"
                        Style="{StaticResource DarkButton}" FontSize="12"
                        Margin="6,0,0,0" Visibility="Collapsed"
                        Click="FavSelectedBtn_Click"/>
            </StackPanel>

            <!-- ── Scroll content area ────────────────────────────────────────── -->
            <!-- Both tab views share one Grid cell and swap Visibility.         -->
            <!-- Background #FF1E1E1E is fully opaque so AllowsTransparency=True -->
            <!-- never bleeds through when the active ScrollViewer is toggled.   -->
            <Grid Grid.Row="10" Background="#FF1E1E1E">

                <!-- All Items / Favorites tab -->
                <ScrollViewer x:Name="MainScrollViewer"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled"
                              Background="#FF1E1E1E"
                              Visibility="Visible">
                    <StackPanel x:Name="ItemsPanel" VerticalAlignment="Top">
                        <TextBlock x:Name="EmptyLabel"
                                   Text="Drop files, text, or URLs here&#10;or use clipboard monitoring"
                                   Foreground="{StaticResource TextDimBrush}"
                                   FontSize="14" TextAlignment="Center"
                                   Margin="0,40,0,40" TextWrapping="Wrap"/>
                    </StackPanel>
                </ScrollViewer>

                <!-- History tab -->
                <ScrollViewer x:Name="HistoryScrollViewer"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled"
                              Background="#FF1E1E1E"
                              Visibility="Collapsed">
                    <StackPanel x:Name="HistoryPanel" VerticalAlignment="Top">
                        <TextBlock x:Name="HistoryEmptyLabel"
                                   Text="No clipboard history yet."
                                   Foreground="{StaticResource TextDimBrush}"
                                   FontSize="13" TextAlignment="Center"
                                   Margin="0,40,0,40"/>
                    </StackPanel>
                </ScrollViewer>

            </Grid>

            <!-- ── Bottom actions ─────────────────────────────────────────── -->
            <StackPanel Grid.Row="12" Orientation="Horizontal">
                <Button x:Name="ClearBtn" Content="Clear All" Height="36" Padding="15,0"
                        Style="{StaticResource DangerButton}" FontWeight="Bold"
                        Click="ClearBtn_Click"/>
                <Button x:Name="UndoBtn"  Content="Undo"      Height="36" Padding="15,0"
                        Style="{StaticResource DarkButton}" Margin="8,0,0,0"
                        IsEnabled="False" Click="UndoBtn_Click"/>
            </StackPanel>

        </Grid>
    </Border>
</Window>
